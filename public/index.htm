<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login & Registration- Blog App</title>
    <link rel="stylesheet" href="./assets/style.css">
</head>

<body>
    <!-- Header section -->
    <header id="header">Tech Blog</header>


    <!-- Search bar -->
    <div id="search-container">
        <input type="text" id="search-input" placeholder="Search posts..." />
        <button type = "button" onclick="searchPosts()">Search</button>
    </div>


    <div class="main-wrapper">
        <!-- Sidebar for categories -->
        <aside id="categories-sidebar">
            <h3>Categories</h3>
                <ul id="categories-list">
                <!-- Categories list -->
                </ul>
        </aside>

        <!-- Posts Container always visible -->
        <div class="posts-container">
                <h2>All Posts</h2>
                    <button type="button" onclick="fetchPosts()">Load Posts</button>
            <div id="posts"></div>
        </div>


    <!-- Login/register container section -->

    <!-- Auth Container -->
        <div class="right-panel">

            <!-- Auth Container -->
            <div id="auth-container">
                <!-- Registration Form -->
                <div id="register-form">
                    <h2>Register</h2>
                    <input type="text" id="username" placeholder="Username" required>
                    <input type="email" id="email" placeholder="Email" required>
                    <input type="password" id="password" placeholder="Password" required>
                    <button type="button" onclick="register()">Register</button>
                    <p>Already have an account? <button type="button" id="show-login-btn">Login</button></p>
                </div>

                <!-- Login Form -->
                <div id="login-form" class="hidden">
                    <h2>Login</h2>
                    <input type="email" id="login-email" placeholder="Email" required>
                    <input type="password" id="login-password" placeholder="Password" required>
                    <button type="button" onclick="login()">Login</button>
                    <p>Don't have an account? <button type="button" id="show-register-btn">Register</button></p>
                </div>
            </div>

        <!-- Create post works only for logged users -->
            
                <button type="button" onclick="logout()">Logout</button>

            <div id="create-post-container" class="hidden">
                <h2>Create Post</h2>
                <input type="text" id="post-title" placeholder="Post Title" required>
                <input type="text" id="post-content" placeholder="Post Content" required>

                <label for="category-dropdown">Category:</label>
                <select id="category-dropdown">
                    <option value="">Select a category</option>
                </select>

                <button type="button" onclick="createPost()">Create Post</button>
            </div>
        </div>

    </div>
    </div>
    

    <!-- Footer -->
    <footer class="flex justify-center fixed inset-x-0 bottom-0 p-6 border-t border-black text-white md:text-black bg-black md:bg-white">
        &copy; 2025 Tech Blog made by LANIA
    </footer>

    <script src="./assets/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jwt-decode/build/jwt-decode.min.js"></script>
</body>

</html>